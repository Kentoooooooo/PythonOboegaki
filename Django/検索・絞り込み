ğŸ”µæ¤œç´¢ãƒ»çµã‚Šè¾¼ã¿æ©Ÿèƒ½ã®å®Ÿè£…
  å•†å“ä¸€è¦§ç”»é¢ã«æ¤œç´¢ã€æ¡ä»¶ã§ã®çµè¾¼æ©Ÿèƒ½ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã€‚
  ã“ã‚Œã¯ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚µã‚¤ãƒˆã§ã‚‚ã‚ˆãã‚ã‚‹ã€Œæœ€ä½ä¾¡æ ¼ã€œå††ã€ã€Œæœ€é«˜ä¾¡æ ¼ã€œå††ã€ã®ã‚ˆã†ãªçµè¾¼ã¿æ©Ÿèƒ½ã§ã™ã€‚
  ã“ã“ã§å­¦ã¶ã“ã¨ã¯ä»–ã«ã‚‚ãƒ–ãƒ­ã‚°ã‚µã‚¤ãƒˆã§ã®è¨˜äº‹æ¤œç´¢æ©Ÿèƒ½ã‚„ã€å‹¤æ€ ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã®é…åˆ»ã—ãŸäººä¸€è¦§æ©Ÿèƒ½ãªã©ã§å¿œç”¨ãŒåŠ¹ãã¾ã™ã€‚

ğŸ”µè¿½åŠ ã™ã‚‹æ©Ÿèƒ½
  ä»Šå›è¿½åŠ ã™ã‚‹æ¤œç´¢æ¡ä»¶ã¯ä»¥ä¸‹ã®3ã¤ã§ã™ã€‚

  å•†å“å: å…¥åŠ›ã•ã‚ŒãŸæ–‡å­—ã‚’å«ã‚€å•†å“ã‚’è¡¨ç¤º
  æœ€ä½ä¾¡æ ¼ã€æœ€é«˜ä¾¡æ ¼: ä¾¡æ ¼ãŒå…¥åŠ›ã•ã‚ŒãŸæ•°å€¤ä»¥ä¸Šã€ä»¥ä¸‹ã®å•†å“ã‚’è¡¨ç¤º
  ã‚«ãƒ†ã‚´ãƒªãƒ¼: é¸æŠã•ã‚ŒãŸã‚«ãƒ†ã‚´ãƒªãƒ¼ã®å•†å“ã‚’è¡¨ç¤º
  è¤‡æ•°ã®æ¡ä»¶ã§è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

  ã¾ãšå•†å“ã®æ¤œç´¢ã«å¿…è¦ãªæ–°ã—ã„Formã‚’ä½œã£ã¦ã€
  å•†å“ä¸€è¦§ç”»é¢ product_list Viewé–¢æ•°ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚
  
  views.py-----------------------------------------------------------------------
  from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger
from django.http import Http404
from django.http import HttpResponseRedirect
from django.template.response import TemplateResponse
from django.urls import reverse
from catalogue.forms import ProductSearchForm, ProductEditForm

from catalogue.forms import ProductEditForm
from catalogue.models import Product


def product_list(request):
    products = Product.objects.order_by('name')
    
    form = ProductSearchForm(request.GET)
    if form.is_valid():
        name = form.cleaned_data.get('name')
        price_min = form.cleaned_data.get('price_min')
        price_max = form.cleaned_data.get('price_max')
        category_id = form.cleaned_data.get('category')
        if name:
            products = products.filter(name__contains=name)
        if price_min:
            products = products.filter(price__gte=price_min)
        if price_max:
            products = products.filter(price__lte=price_max)
        if category_id:
            products = products.filter(category_id=category_id)
    
    page = request.GET.get('page', 1)
    paginator = Paginator(products, 5)
    try:
        products = paginator.page(page)
    except (EmptyPage, PageNotAnInteger):
        products = paginator.page(1)

    return TemplateResponse(request, 'catalogue/product_list.html',
                            {
                                'products': products,
                                'form': form,
                            })


def product_detail(request, product_id):
    try:
        product = Product.objects.get(id=product_id)
    except Product.DoesNotExist:
        raise Http404
    return TemplateResponse(request, 'catalogue/product_detail.html',
                            {'product': product})


def product_edit(request, product_id):
    try:
        product = Product.objects.get(id=product_id)
    except Product.DoesNotExist:
        raise Http404

    if request.method == 'POST':
        form = ProductEditForm(request.POST, instance=product)
        if form.is_valid():
            form.save()
            return HttpResponseRedirect(reverse('product_detail',
                                                args=(product.id,)))
    else:
        form = ProductEditForm(instance=product)
    return TemplateResponse(request, 'catalogue/product_edit.html',
                            {'form': form, 'product': product})


def product_delete(request, product_id):
    try:
        product = Product.objects.get(id=product_id)
    except Product.DoesNotExist:
        raise Http404

    if request.method == 'POST':
        product.delete()
        return HttpResponseRedirect(reverse('product_list'))
    else:
        return TemplateResponse(request, 'catalogue/product_delete.html',
                                {'product': product})
views.py-----------------------------------------------------------------------
product_list.html-----------------------------------------------------------------------
{% extends 'catalogue/base.html' %}

{% block title %}å•†å“ä¸€è¦§{% endblock %}

{% block content %}
<form>
    {{ form }}
    <input type='submit' value='æ¤œç´¢'>
</form>
<hr>

    {% for product in products %}
      <li>({{ product.category.name }}) <a href="{% url 'product_detail' product.id %}">{{ product.name }}</a>: {{ product.price }}å††</li>
    {% endfor %}

    {% if products.has_previous %}
      <a href="?page={{ products.previous_page_number }}">&lt; å‰ã®ãƒšãƒ¼ã‚¸</a>
    {% else %}
      <span>&lt; å‰ã®ãƒšãƒ¼ã‚¸</span>
    {% endif %}

    {{ products.number }}ãƒšãƒ¼ã‚¸

    {% if products.has_next %}
      <a href="?page={{ products.next_page_number }}">æ¬¡ã®ãƒšãƒ¼ã‚¸ &gt;</a>
    {% else %}
      <span>æ¬¡ã®ãƒšãƒ¼ã‚¸ &gt;</span>
    {% endif %}
{% endblock %}

product_list.html-----------------------------------------------------------------------

ğŸ”µä½¿ç”¨ã—ãŸæ–°ã—ã„æŠ€
  ãƒ»ModelFormã¸ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¿½åŠ æ–¹æ³•
  ãƒ»<form>ã‚¿ã‚°ã‚’ä½¿ã£ãŸæ¤œç´¢ç”»é¢ã®ä½œã‚Šæ–¹
  ãƒ»QuerySetã§ã®è©³ç´°ãªæ¡ä»¶è¨­å®šï¼ˆãƒ«ãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰
  
ğŸ”µModelFormã¸ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ 
  ä»Šã¾ã§ModelFormã‚’ä½¿ã†ã¨ãã¯ã€class Meta:ã«model = , fieldsã ã‘æŒ‡å®šã—ã¦ã„ãŸã€‚
  ã“ã‚Œã¯modelã‚‚ã§ã‚‹ã®ãƒ•ã‚©ãƒ¼ãƒ ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ã‚‚ã®ã§ã€fieldã«æŒ‡å®šã—ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å…¥åŠ›ã§ãã‚‹ã¨ã„ã†ã‚‚ã®ã€‚
 
  catalogue.forms.ProductSearchForm ã¯ãã‚Œã«åŠ ãˆã¦ä»¥ä¸‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚
  name = forms.CharField(label='å•†å“å', required=False)
  price_min = forms.IntegerField(label="æœ€ä½ä¾¡æ ¼", min_value=1, required=False)
  price_max = forms.IntegerField(label="æœ€é«˜ä¾¡æ ¼", min_value=1, required=False)
  
  name ã¯ CharField ã§æ–‡å­—åˆ—ã€ price_min ã¨ price_max ã¯ IntegerField ã§æ•°å­—ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚
  ãã‚Œãã‚Œä»¥ä¸‹ã®å±æ€§ã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚
  ãƒ»label: å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åå‰
  ãƒ»min_value: å…¥åŠ›ã®æœ€å°ã®æ•°å­—ã‚’åˆ¶é™
  ãƒ»required=False: å¿…é ˆå…¥åŠ›ã§ãªã„
  
  category ã¯Metaã® fields ã«æŒ‡å®šã—ã¦ã„ã‚‹ã®ã§ã€ Product ãƒ¢ãƒ‡ãƒ«ã®å®šç¾©ã‹ã‚‰è‡ªå‹•ã§ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
  ForeginKeyï¼ˆå¤–éƒ¨ã‚­ãƒ¼)ã‹ã‚‰ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œã‚‹ã¨ã€Djangoã¯è‡ªå‹•ã§ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’é¸æŠã™ã‚‹å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œã£ã¦ãã‚Œã¾ã™ã€‚
  ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã‹ã‚‰å€¤ãŒé€ä¿¡ã•ã‚Œã‚‹ã¨ãã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§æŒ‡å®šã—ãŸã‚«ãƒ†ã‚´ãƒªãƒ¼ã®IDãŒã‚µãƒ¼ãƒãƒ¼ã«æ¸¡ã•ã‚Œã¾ã™ã€‚
  
  ğŸ”µã‚¯ã‚¨ãƒªãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
    ã“ã® ProductSearchForm ã« request.GET ã‚’æ¸¡ã—ã¦ .is_valid(), .cleaned_dataâ€»ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚
    ã‚¯ã‚¨ãƒªãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ (request.GET) ã§æ¸¡ã•ã‚ŒãŸæ¤œç´¢æ¡ä»¶ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€æ­£ã—ã‘ã‚Œã° .cleaned_data ã‹ã‚‰å–ã‚Šå‡ºã—ã¦ã„ã¾ã™ã€‚
    â€» Form.cleaned_dataã‚’ä½¿ã†ã“ã¨ã§ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ¸ˆã¿ã®ãƒ•ã‚©ãƒ¼ãƒ ã®å€¤ã‚’è¾æ›¸å½¢å¼ã§å–å¾—ã—ã¾ã™ã€‚
    ã‚¯ã‚¨ãƒªãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã‹ã‚‰å…¥åŠ›ã§ãã‚‹ã‚ˆã†ã« <form> ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚
  


